# ===================================================================================
# Mihomo (Clash.Meta) Smart æ™ºèƒ½åˆ†æµæ¨¡æ¿
# ===================================================================================

# æœºåœºè®¢é˜…
proxy-providers:
  è®¢é˜…:
    url: "ä½ çš„è®¢é˜…é“¾æ¥" # <--- !! ä¿®æ”¹è¿™é‡Œ !!
    type: http
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    # æ’é™¤æ‰æ˜æ˜¾ä¸æ˜¯èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œä»¥é˜²ä¸‡ä¸€
    filter: "^((?!(è¿‡æœŸ|åˆ°æœŸ|æµé‡|å®˜ç½‘|å®¢æœ)).)*$"

# èŠ‚ç‚¹ä¿¡æ¯
proxies:
  - {name: ğŸ¯ å…¨çƒç›´è¿, type: direct}
  - {name: ğŸš« æ‹’ç», type: reject}

# å…¨å±€é…ç½®
port: 7890
socks-port: 7891
mixed-port: 7892
allow-lan: true
mode: rule
log-level: warning
external-controller: 0.0.0.0:9090
secret: ""

# DNS æ¨¡å—
dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 28.0.0.1/8
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
  fallback:
    - https://dns.google/dns-query
    - https://1.1.1.1/dns-query

# TUN æ¨¡å—
tun:
  enable: true
  stack: mixed
  dns-hijack:
    - any:53
  auto-route: true
  auto-detect-interface: true

# ç­–ç•¥ç»„
proxy-groups:
  # ä¸»é€‰æ‹©å™¨
  - {name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: [â™»ï¸ å…¨çƒæ™ºèƒ½, ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ™ºèƒ½, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ™ºèƒ½, ğŸ‡ºğŸ‡¸ ç¾å›½æ™ºèƒ½, ğŸ‡°ğŸ‡· éŸ©å›½æ™ºèƒ½, ğŸ‡¹ğŸ‡¼ å°æ¹¾æ™ºèƒ½, ğŸ‡­ğŸ‡° é¦™æ¸¯æ™ºèƒ½, ğŸ‡¬ğŸ‡§ è‹±å›½æ™ºèƒ½, ğŸ‡©ğŸ‡ª å¾·å›½æ™ºèƒ½, ğŸ‡¨ğŸ‡­ ç‘å£«æ™ºèƒ½, ğŸ‡¦ğŸ‡º æ¾³æ´²æ™ºèƒ½, ğŸ‡¦ğŸ‡ª é˜¿è”é…‹æ™ºèƒ½, ğŸ‡®ğŸ‡³ å°åº¦æ™ºèƒ½, ğŸ¯ å…¨çƒç›´è¿, ğŸš« æ‹’ç»]}

  # AI æœåŠ¡ (ä¼˜é€‰æ—¥æœ¬ã€æ–°åŠ å¡ã€ç¾å›½)
  - {name: ğŸ¤– AIæœåŠ¡, type: select, proxies: [ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ™ºèƒ½, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ™ºèƒ½, ğŸ‡ºğŸ‡¸ ç¾å›½æ™ºèƒ½, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}

  # æµåª’ä½“ (ä¼˜é€‰é¦™æ¸¯ã€æ–°åŠ å¡ã€ç¾å›½ã€è‹±å›½)
  - {name: ğŸ“¹ YouTube, type: select, proxies: [ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ™ºèƒ½, ğŸ‡ºğŸ‡¸ ç¾å›½æ™ºèƒ½, ğŸ‡­ğŸ‡° é¦™æ¸¯æ™ºèƒ½, ğŸ‡¬ğŸ‡§ è‹±å›½æ™ºèƒ½, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸ¥ Netflix, type: select, proxies: [ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ™ºèƒ½, ğŸ‡ºğŸ‡¸ ç¾å›½æ™ºèƒ½, ğŸ‡­ğŸ‡° é¦™æ¸¯æ™ºèƒ½, ğŸ‡¬ğŸ‡§ è‹±å›½æ™ºèƒ½, ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ™ºèƒ½, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸµ TikTok, type: select, proxies: [ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ™ºèƒ½, ğŸ‡ºğŸ‡¸ ç¾å›½æ™ºèƒ½, ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ™ºèƒ½, ğŸ‡°ğŸ‡· éŸ©å›½æ™ºèƒ½, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸ¶ Spotify, type: select, proxies: [ğŸ‡ºğŸ‡¸ ç¾å›½æ™ºèƒ½, ğŸ‡¬ğŸ‡§ è‹±å›½æ™ºèƒ½, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ™ºèƒ½, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}

  # è‹¹æœä¸å¾®è½¯æœåŠ¡ (ç›´è¿ä¼˜å…ˆ)
  - {name: ğŸ Apple, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: â“‚ï¸ Microsoft, type: select, proxies: [ğŸ¯ å…¨çƒç›´è¿, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}

  # ç½‘é¡µä¸å¼€å‘ (ä¼˜é€‰ç¾å›½ã€æ—¥æœ¬ã€æ–°åŠ å¡)
  - {name: ğŸŒ Google, type: select, proxies: [ğŸ‡ºğŸ‡¸ ç¾å›½æ™ºèƒ½, ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ™ºèƒ½, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ™ºèƒ½, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸ“Š GitHub, type: select, proxies: [ğŸ‡ºğŸ‡¸ ç¾å›½æ™ºèƒ½, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ™ºèƒ½, ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ™ºèƒ½, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}
  - {name: ğŸ“² Telegram, type: select, proxies: [ğŸ‡ºğŸ‡¸ ç¾å›½æ™ºèƒ½, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ™ºèƒ½, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}

  # ä¸‹è½½ä¸“ç”¨ (ä½¿ç”¨ 0.01x èŠ‚ç‚¹)
  - {name: ğŸ“¥ ä¸‹è½½ä¸“ç”¨, type: select, proxies: [ğŸ‡ºğŸ‡¸ ç¾å›½ä¸‹è½½, ğŸ‡¯ğŸ‡µ æ—¥æœ¬ä¸‹è½½, ğŸš€ èŠ‚ç‚¹é€‰æ‹©]}

  # å…¨çƒæ™ºèƒ½é€‰æ‹© (ä»…åŒ…å«1xå€ç‡èŠ‚ç‚¹)
  - {name: â™»ï¸ å…¨çƒæ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(æ—¥æœ¬|æ–°åŠ å¡|ç¾å›½|éŸ©å›½|å°æ¹¾|é¦™æ¸¯|è‹±å›½|å¾·å›½|ç‘å£«|æ¾³æ´²|é˜¿è”é…‹|å°åº¦))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}

  # åœ°åŒºæ™ºèƒ½é€‰æ‹© (ä»…åŒ…å«1xå€ç‡èŠ‚ç‚¹)
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬æ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(æ—¥æœ¬|ä¸œäº¬|JP|Japan))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}
  - {name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡æ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(æ–°åŠ å¡|SG|Singapore))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½æ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(ç¾å›½|US|United States|åœ£ä½•å¡|æ´›æ‰çŸ¶|é˜¿ä»€æœ¬|å‡¤å‡°åŸ))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}
  - {name: ğŸ‡°ğŸ‡· éŸ©å›½æ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(éŸ©å›½|é¦–å°”|KR|Korea))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}
  - {name: ğŸ‡¹ğŸ‡¼ å°æ¹¾æ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(å°æ¹¾|TW|Taiwan))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯æ™ºèƒ½, type: select, include-all: true, filter: "(?=.*(é¦™æ¸¯|HK|Hong Kong))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"} # æ‚¨çš„èŠ‚ç‚¹åˆ—è¡¨ä¸­æ— é¦™æ¸¯ï¼Œä½†ä¿ç•™ä»¥é˜²ä¸‡ä¸€
  - {name: ğŸ‡¬ğŸ‡§ è‹±å›½æ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(è‹±å›½|UK|Britain))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}
  - {name: ğŸ‡©ğŸ‡ª å¾·å›½æ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(å¾·å›½|Germany))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}
  - {name: ğŸ‡¨ğŸ‡­ ç‘å£«æ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(ç‘å£«|Switzerland|è‹é»ä¸–))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}
  - {name: ğŸ‡¦ğŸ‡º æ¾³æ´²æ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(æ¾³å¤§åˆ©äºš|AU|Australia))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}
  - {name: ğŸ‡¦ğŸ‡ª é˜¿è”é…‹æ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(é˜¿è”é…‹|è¿ªæ‹œ|UAE|Dubai))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}
  - {name: ğŸ‡®ğŸ‡³ å°åº¦æ™ºèƒ½, type: smart, include-all: true, interval: 300, filter: "(?=.*(å°åº¦|IND|India))^((?!(0\\.1å€|0\\.01å€|hy2)).)*$"}

  # Hysteria2 ä¼˜é€‰ç»„ (é€šå¸¸æ€§èƒ½æ›´å¥½)
  - {name: ğŸš€ Hysteria2ä¼˜é€‰, type: select, proxies: [ğŸ‡¯ğŸ‡µ æ—¥æœ¬-Hy2, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-Hy2, ğŸ‡ºğŸ‡¸ ç¾å›½-Hy2, ğŸ‡°ğŸ‡· éŸ©å›½-Hy2, ğŸ‡©ğŸ‡ª å¾·å›½-Hy2, ğŸ‡¨ğŸ‡­ ç‘å£«-Hy2, ğŸ‡¦ğŸ‡º æ¾³æ´²-Hy2, ğŸ‡¬ğŸ‡§ è‹±å›½-Hy2, ğŸ‡¦ğŸ‡ª é˜¿è”é…‹-Hy2]}

  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬-Hy2, type: url-test, include-all: true, interval: 300, filter: "(?=.*(æ—¥æœ¬|ä¸œäº¬|JP|Japan)).*(hy2)"}
  - {name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-Hy2, type: url-test, include-all: true, interval: 300, filter: "(?=.*(æ–°åŠ å¡|SG|Singapore)).*(hy2)"}
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½-Hy2, type: url-test, include-all: true, interval: 300, filter: "(?=.*(ç¾å›½|US|United States|åœ£ä½•å¡|å‡¤å‡°åŸ)).*(hy2)"}
  - {name: ğŸ‡°ğŸ‡· éŸ©å›½-Hy2, type: url-test, include-all: true, interval: 300, filter: "(?=.*(éŸ©å›½|é¦–å°”|KR|Korea)).*(hy2)"}
  - {name: ğŸ‡©ğŸ‡ª å¾·å›½-Hy2, type: url-test, include-all: true, interval: 300, filter: "(?=.*(å¾·å›½|Germany)).*(hy2)"}
  - {name: ğŸ‡¨ğŸ‡­ ç‘å£«-Hy2, type: url-test, include-all: true, interval: 300, filter: "(?=.*(ç‘å£«|Switzerland|è‹é»ä¸–)).*(hy2)"}
  - {name: ğŸ‡¦ğŸ‡º æ¾³æ´²-Hy2, type: url-test, include-all: true, interval: 300, filter: "(?=.*(æ¾³å¤§åˆ©äºš|AU|Australia)).*(hy2)"}
  - {name: ğŸ‡¬ğŸ‡§ è‹±å›½-Hy2, type: url-test, include-all: true, interval: 300, filter: "(?=.*(è‹±å›½|UK|Britain)).*(hy2)"}
  - {name: ğŸ‡¦ğŸ‡ª é˜¿è”é…‹-Hy2, type: url-test, include-all: true, interval: 300, filter: "(?=.*(é˜¿è”é…‹|è¿ªæ‹œ|UAE|Dubai)).*(hy2)"}

  # ä¸‹è½½ä¸“ç”¨ç»„ (ä½¿ç”¨0.01xèŠ‚ç‚¹)
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½ä¸‹è½½, type: select, include-all: true, filter: "(?=.*(ç¾å›½|US|United States)).*(0\\.01å€)"}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬ä¸‹è½½, type: select, include-all: true, filter: "(?=.*(æ—¥æœ¬|ä¸œäº¬|JP|Japan)).*(0\\.01å€)"}

  # æœ€ç»ˆç­–ç•¥
  - {name: ğŸŸ æ¼ç½‘ä¹‹é±¼, type: select, proxies: [ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ¯ å…¨çƒç›´è¿]}

# è§„åˆ™åŒ¹é…
rules:
  - RULE-SET,private,ğŸ¯ å…¨çƒç›´è¿
  - RULE-SET,apple,ğŸ Apple
  - RULE-SET,microsoft,â“‚ï¸ Microsoft
  - RULE-SET,google,ğŸŒ Google
  - RULE-SET,openai,ğŸ¤– AIæœåŠ¡
  - RULE-SET,netflix,ğŸ¥ Netflix
  - RULE-SET,youtube,ğŸ“¹ YouTube
  - RULE-SET,tiktok,ğŸµ TikTok
  - RULE-SET,telegram,ğŸ“² Telegram
  - RULE-SET,github,ğŸ“Š GitHub
  - RULE-SET,spotify,ğŸ¶ Spotify
  - RULE-SET,gfw,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,cn,ğŸ¯ å…¨çƒç›´è¿
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

# è§„åˆ™é›†
rule-providers:
  private:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs"
  apple:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple.mrs"
  microsoft:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs"
  google:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs"
  openai:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/openai.mrs"
  netflix:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs"
  youtube:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs"
  tiktok:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs"
  telegram:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs"
  github:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs"
  spotify:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/spotify.mrs"
  gfw:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/gfw.mrs"
  cn:
    type: http
    interval: 86400
    behavior: domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs"
